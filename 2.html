<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<link href="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.css" rel="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.5.min.js" type="text/javascript"></script>
<script src="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.js" type="text/javascript"></script>

<script>
function setData(){
	$.ajax({
		url:"http://localhost:8080/2.jsp",
		type:"GET",
		dataType:"json",
		
		//-----------------------------------------------------------------------------
		success: function(data){
	
			var k=$("#t1");
			k.empty();
			for(var i=0;i<data.length;i++){
				k.append('<li><h3><a href="#">'+data[i].school+'</a></h3><p>'+data[i].city+'</p></li>');	
			}
			k.listview("refresh");
		},
		//-----------------------------------------------------------------------------
		
		error: function(){
			alert("Data fetch error!");	
		}
	});
}



</script>

</head>

<body onLoad="setData()">

<div data-role="page" id="page">

  <div data-role="header">
    <h1>頁首</h1>
  </div>
  
  
  <div data-role="content">
    <ul data-role="listview" data-inset="true" id="t1">
      <li>
        <h3><a href="#">頁面</a></h3>
        <p>Lorem ipsum</p>
      </li>
      <li>
        <h3><a href="#">頁面</a></h3>
        <p>Lorem ipsum</p>
      </li>
      <li>
        <h3><a href="#">頁面</a></h3>
        <p>Lorem ipsum</p>
      </li>
    </ul>
  
  </div>
  
  
  <div data-role="footer">
    <h4>頁尾</h4>
  </div>
  
</div>

</body>
</html>
